# HorizonDx - Huntington Disease Prediction

A comprehensive, data-driven web application designed to predict the progression of Huntington’s Disease using patient data. This tool leverages advanced machine learning techniques to generate a risk percentage and corresponding disease stage (Pre-Symptomatic, Early, Middle, or Late) based on multiple clinical and genetic features. It also compares the patient’s risk against the population average and offers a pathway for users to request professional consultation.

---

## Overview

HorizonDx is an innovative, data-driven tool designed to assist clinicians and patients in evaluating and tracking the progression of Huntington’s Disease—a rare, inherited neurodegenerative disorder. Huntington’s Disease (HD) is characterized by the gradual breakdown of nerve cells in the brain, which leads to a decline in a person's physical, cognitive, and emotional abilities. Common symptoms include involuntary movements (chorea), difficulties with speech and swallowing, cognitive decline, and behavioral changes. The onset and progression of HD are influenced by genetic factors, most notably the number of CAG repeats in the HTT gene.

Our application leverages advanced machine learning techniques to analyze patient-specific clinical and genetic data. By incorporating diverse features such as age, HTT CAG repeat length, measures of cognitive decline, motor scores, brain volume loss, and several other clinical indicators, HorizonDx estimates a personalized risk percentage. This risk percentage is then mapped to a discrete disease stage (Pre-Symptomatic, Early, Middle, or Late), providing a clear, interpretable snapshot of how advanced the disease might be in an individual patient.

Key aspects of HorizonDx include:
- **Early Detection:** By quantifying risk based on measurable clinical and genetic parameters, the tool supports early detection—crucial for timely intervention.
- **Personalized Monitoring:** The combination of a risk score and a staged categorization allows clinicians to monitor disease progression more precisely, facilitating targeted therapeutic strategies.
- **Population Benchmarking:** The system compares an individual's risk against a population baseline, providing context for the severity of the patient’s condition.
- **User-Friendly Interface:** With a simple, interactive web interface and straightforward CSV file uploads, HorizonDx is designed for ease of use by both healthcare professionals and patients.

By fusing comprehensive data analysis with machine learning, HorizonDx serves not only as a predictive model but also as a decision support tool, offering an accessible way to understand and manage the complexities of Huntington’s Disease progression. The insights generated by this project can be vital in planning clinical interventions and supporting long-term patient care.

---

## Features

- **Multi-Feature Analysis:**  
  The model leverages up to 12 features including:
  - **Age:** Patient’s age.
  - **HTT_CAG_Repeat_Length:** The number of CAG repeats in the HTT gene—critical in determining onset.
  - **Cognitive_Decline:** Qualitative measure of cognitive function (e.g., Mild, Moderate, Severe).
  - **Chorea_Score:** Quantifies involuntary movements (chorea) affecting quality of life.
  - **Brain_Volume_Loss:** Measurement of brain atrophy, an indicator of neurodegeneration.
  - **Functional_Capacity:** Numerical estimate of how well a patient performs daily tasks.
  - **HTT_Gene_Expression_Level:** Level at which the HTT gene is active.
  - **Protein_Aggregation_Level:** Degree of toxic protein aggregation.
  - **Sex:** Biological gender of the patient.
  - **Family_History:** Whether there is a history of Huntington’s Disease in the family.
  - **Motor_Symptoms:** Severity of other motor symptoms.
  - **Gene_Mutation_Type:** Type of mutation in the gene which may impact disease progression.

- **Risk Prediction and Staging:**  
  The model predicts a *Risk Percentage* (a numeric value between 0–100) which is then converted to a discrete disease stage:
  - **Pre-Symptomatic:** Risk < 30%
  - **Early:** 30–50%
  - **Middle:** 50–70%
  - **Late:** >70%

- **Population Benchmarking:**  
  The system calculates an average risk percentage from the entire dataset, offering valuable context by comparing an individual patient's risk with the population average.

- **User-Friendly Interface:**  
  A straightforward web interface built with Flask, enabling users to upload CSV files and view predictions along with interactive charts generated using Chart.js.

- **Consultation Integration:**  
  There is a dedicated "Consult Now" page for users to request professional consultation. Form submissions are initially emailed directly to you, with plans to sync with professional consultants’ emails in the future.

- **Email Integration:**  
  On form submission, user data is automatically emailed, facilitating immediate follow-up and personalized consultations.

---

## Tech Stack

- **Frontend:**  
  - HTML, CSS (custom styling), JavaScript (with Chart.js for data visualization)
  - Jinja2 templating (for dynamic content in Flask)
- **Backend:**  
  - Flask (Python) for server-side logic and RESTful API endpoints
- **Machine Learning:**  
  - Python libraries: Pandas, Scikit-learn (RandomForestRegressor, LabelEncoder), Joblib
- **Data Visualization:**  
  - Chart.js (via CDN) for interactive charts
- **Deployment:**  
  - The project can be deployed locally, and later on cloud platforms such as Heroku, AWS, or Google Cloud.

---

## Installation and Setup

1. **Install Dependencies:**
   Ensure you have Python installed. Then install the required packages:
   ```bash
   pip install -r requirements.txt
   ```
   *(The `requirements.txt` should include Flask, pandas, scikit-learn, joblib, and other necessary packages.)*

2. **Generate the Model:**
   **Important:** **First, run `main.py` to train the machine learning model and save the file `huntington_model.pkl`.**  
   This step generates the trained model along with the label encoders for the necessary categorical features. Only after this can you run the web application.
   ```bash
   python main.py
   ```

3. **Run the Application:**
   Once the model file is saved, you can start the Flask server:
   ```bash
   python app.py
   ```

---

## Usage

1. **Uploading Patient Data:**
   - On the home page, you can upload a CSV file containing the patient’s data.
   - The CSV should include the following fields:  
     `Age`, `HTT_CAG_Repeat_Length`, `Cognitive_Decline`, `Chorea_Score`, `Brain_Volume_Loss`, `Functional_Capacity`, `HTT_Gene_Expression_Level`, `Protein_Aggregation_Level`, `Sex`, `Family_History`, `Motor_Symptoms`, and `Gene_Mutation_Type`.

2. **Viewing Predictions:**
   - The application processes the data using the trained ML model.
   - It displays the **Risk Percentage** and corresponding **Disease Stage**.
   - A chart visually compares the patient’s risk with the population average.

3. **Requesting Consultation:**
   - Click on the **“Consult Now”** button to navigate to the consultation form.
   - Fill in the necessary details; upon submission, the details are emailed directly.
   - Future updates will sync the consultation form with professional consultants’ email accounts.

4. **Email Integration:**
   - When a user submits the consultation form through the application, the patient's information is automatically emailed directly to the project owner's email address.
   - Note: This initial setup sends emails only to the developer. In future updates, the system will be enhanced to allow synchronization with professional consultant email addresses, ensuring that submissions are forwarded to experts who can provide specialized advice.

---

## Screenshots

### Home Page
*This is the main interface where users upload a patient CSV file to get predictions.*

![Home Page](https://github.com/shubhankar05sarkar/Huntington_Prediction/blob/ec9195459d284b578eaf2a4cbe531b426c266262/Home%20Page.png)

### Results Page
*After uploading, this page shows the risk percentage, predicted disease stage, and a comparison chart against the population average.*

![Results Section](https://github.com/shubhankar05sarkar/Huntington_Prediction/blob/ec9195459d284b578eaf2a4cbe531b426c266262/Results%20Section.png)

### Consultation Page
*When users click on “Consult Now,” they are taken to a page with a consultation form.*

![Consultation Page](https://github.com/shubhankar05sarkar/Huntington_Prediction/blob/ec9195459d284b578eaf2a4cbe531b426c266262/Consultation%20Page.png)

---

## Future Enhancements

- **Model Improvement:**  
  Further reduce prediction error using advanced models (e.g., XGBoost) and hyperparameter tuning.

- **Feature Expansion:**  
  Incorporate additional clinical or genetic biomarkers to enhance prediction accuracy and personalization.

- **Enhanced UI/UX:**  
  Improve the visual design, responsiveness, and overall user experience of the web interface.

- **Consultation Integration:**  
  Sync consultation forms with professional consultants’ emails or an automated appointment booking system.

- **Data Security & Compliance:**  
  Enhance security measures and ensure compliance with medical data standards (e.g., HIPAA) for real-world deployments.

- **Real-Time Monitoring:**  
  Implement dashboards for real-time monitoring of patient progress and risk changes.

---

## Contributing

Contributions are welcome! If you have improvements or new features to suggest, please fork this repository and open a pull request. For major changes, open an issue first to discuss your ideas.

---

## **Author**

Created with ❤️ by Shubhankar Sarkar, Nehal Saraswat, Harsh Gupta, and Rajveer Singh.

---

*Disclaimer: The risk percentages and disease stages predicted by this model are for educational and research purposes only and are not intended to be used as a clinical diagnostic tool.*

---
